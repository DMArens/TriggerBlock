!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=a("./lib/axios")},{"./lib/axios":3}],2:[function(a,b,c){(function(c){"use strict";var d=a("./../utils"),e=a("./../helpers/buildURL"),f=a("./../helpers/parseHeaders"),g=a("./../helpers/transformData"),h=a("./../helpers/isURLSameOrigin"),i="undefined"!=typeof window&&window.btoa||a("./../helpers/btoa"),j=a("../helpers/settle");b.exports=function(k,l,m){var n=m.data,o=m.headers;d.isFormData(n)&&delete o["Content-Type"];var p=new XMLHttpRequest,q="onreadystatechange",r=!1;if("test"===c.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||h(m.url)||(p=new window.XDomainRequest,q="onload",r=!0,p.onprogress=function(){},p.ontimeout=function(){}),m.auth){var s=m.auth.username||"",t=m.auth.password||"";o.Authorization="Basic "+i(s+":"+t)}if(p.open(m.method.toUpperCase(),e(m.url,m.params,m.paramsSerializer),!0),p.timeout=m.timeout,p[q]=function(){if(p&&(4===p.readyState||r)&&0!==p.status){var b="getAllResponseHeaders"in p?f(p.getAllResponseHeaders()):null,c=m.responseType&&"text"!==m.responseType?p.response:p.responseText,d={data:g(c,b,m.transformResponse),status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:b,config:m,request:p};j(k,l,d),p=null}},p.onerror=function(){l(new Error("Network Error")),p=null},p.ontimeout=function(){var b=new Error("timeout of "+m.timeout+"ms exceeded");b.timeout=m.timeout,b.code="ECONNABORTED",l(b),p=null},d.isStandardBrowserEnv()){var u=a("./../helpers/cookies"),v=m.withCredentials||h(m.url)?u.read(m.xsrfCookieName):void 0;v&&(o[m.xsrfHeaderName]=v)}if("setRequestHeader"in p&&d.forEach(o,function(b,c){"undefined"==typeof n&&"content-type"===c.toLowerCase()?delete o[c]:p.setRequestHeader(c,b)}),m.withCredentials&&(p.withCredentials=!0),m.responseType)try{p.responseType=m.responseType}catch(a){if("json"!==p.responseType)throw a}m.progress&&("post"===m.method||"put"===m.method?p.upload.addEventListener("progress",m.progress):"get"===m.method&&p.addEventListener("progress",m.progress)),void 0===n&&(n=null),p.send(n)}}).call(this,a("1YiZ5S"))},{"../helpers/settle":15,"./../helpers/btoa":8,"./../helpers/buildURL":9,"./../helpers/cookies":11,"./../helpers/isURLSameOrigin":13,"./../helpers/parseHeaders":14,"./../helpers/transformData":17,"./../utils":18,"1YiZ5S":20}],3:[function(a,b,c){"use strict";function l(a){this.defaults=e.merge({},a),this.interceptors={request:new g,response:new g}}var d=a("./defaults"),e=a("./utils"),f=a("./core/dispatchRequest"),g=a("./core/InterceptorManager"),h=a("./helpers/isAbsoluteURL"),i=a("./helpers/combineURLs"),j=a("./helpers/bind"),k=a("./helpers/transformData");l.prototype.request=function(b){"string"==typeof b&&(b=e.merge({url:arguments[0]},arguments[1])),b=e.merge(d,this.defaults,{method:"get"},b),b.baseURL&&!h(b.url)&&(b.url=i(b.baseURL,b.url)),b.withCredentials=b.withCredentials||this.defaults.withCredentials,b.data=k(b.data,b.headers,b.transformRequest),b.headers=e.merge(b.headers.common||{},b.headers[b.method]||{},b.headers||{}),e.forEach(["delete","get","head","post","put","patch","common"],function(c){delete b.headers[c]});var c=[f,void 0],g=Promise.resolve(b);for(this.interceptors.request.forEach(function(b){c.unshift(b.fulfilled,b.rejected)}),this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});c.length;)g=g.then(c.shift(),c.shift());return g};var m=new l(d),n=b.exports=j(l.prototype.request,m);b.exports.Axios=l,n.defaults=m.defaults,n.interceptors=m.interceptors,n.create=function(b){return new l(b)},n.all=function(b){return Promise.all(b)},n.spread=a("./helpers/spread"),e.forEach(["delete","get","head"],function(b){l.prototype[b]=function(a,c){return this.request(e.merge(c||{},{method:b,url:a}))},n[b]=j(l.prototype[b],m)}),e.forEach(["post","put","patch"],function(b){l.prototype[b]=function(a,c,d){return this.request(e.merge(d||{},{method:b,url:a,data:c}))},n[b]=j(l.prototype[b],m)})},{"./core/InterceptorManager":4,"./core/dispatchRequest":5,"./defaults":6,"./helpers/bind":7,"./helpers/combineURLs":10,"./helpers/isAbsoluteURL":12,"./helpers/spread":16,"./helpers/transformData":17,"./utils":18}],4:[function(a,b,c){"use strict";function e(){this.handlers=[]}var d=a("./../utils");e.prototype.use=function(b,c){return this.handlers.push({fulfilled:b,rejected:c}),this.handlers.length-1},e.prototype.eject=function(b){this.handlers[b]&&(this.handlers[b]=null)},e.prototype.forEach=function(b){d.forEach(this.handlers,function(c){null!==c&&b(c)})},b.exports=e},{"./../utils":18}],5:[function(a,b,c){(function(c){"use strict";b.exports=function(d){return new Promise(function(e,f){try{var g;"function"==typeof d.adapter?g=d.adapter:"undefined"!=typeof XMLHttpRequest?g=a("../adapters/xhr"):"undefined"!=typeof c&&(g=a("../adapters/http")),"function"==typeof g&&g(e,f,d)}catch(a){f(a)}})}}).call(this,a("1YiZ5S"))},{"../adapters/http":2,"../adapters/xhr":2,"1YiZ5S":20}],6:[function(a,b,c){"use strict";var d=a("./utils"),e=/^\)\]\}',?\n/,f={"Content-Type":"application/x-www-form-urlencoded"};b.exports={transformRequest:[function(b,c){return d.isFormData(b)||d.isArrayBuffer(b)||d.isStream(b)?b:d.isArrayBufferView(b)?b.buffer:!d.isObject(b)||d.isFile(b)||d.isBlob(b)?b:(d.isUndefined(c)||(d.forEach(c,function(b,d){"content-type"===d.toLowerCase()&&(c["Content-Type"]=b)}),d.isUndefined(c["Content-Type"])&&(c["Content-Type"]="application/json;charset=utf-8")),JSON.stringify(b))}],transformResponse:[function(b){if("string"==typeof b){b=b.replace(e,"");try{b=JSON.parse(b)}catch(a){}}return b}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:d.merge(f),post:d.merge(f),put:d.merge(f)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(b){return b>=200&&b<300}}},{"./utils":18}],7:[function(a,b,c){"use strict";b.exports=function(b,c){return function(){for(var d=new Array(arguments.length),e=0;e<d.length;e++)d[e]=arguments[e];return b.apply(c,d)}}},{}],8:[function(a,b,c){"use strict";function e(){this.message="String contains an invalid character"}function f(a){for(var f,g,b=String(a),c="",h=0,i=d;b.charAt(0|h)||(i="=",h%1);c+=i.charAt(63&f>>8-h%1*8)){if(g=b.charCodeAt(h+=.75),g>255)throw new e;f=f<<8|g}return c}var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.code=5,e.prototype.name="InvalidCharacterError",b.exports=f},{}],9:[function(a,b,c){"use strict";function e(a){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var d=a("./../utils");b.exports=function(b,c,f){if(!c)return b;var g;if(f)g=f(c);else{var h=[];d.forEach(c,function(b,c){null!==b&&"undefined"!=typeof b&&(d.isArray(b)&&(c+="[]"),d.isArray(b)||(b=[b]),d.forEach(b,function(b){d.isDate(b)?b=b.toISOString():d.isObject(b)&&(b=JSON.stringify(b)),h.push(e(c)+"="+e(b))}))}),g=h.join("&")}return g&&(b+=(b.indexOf("?")===-1?"?":"&")+g),b}},{"./../utils":18}],10:[function(a,b,c){"use strict";b.exports=function(b,c){return b.replace(/\/+$/,"")+"/"+c.replace(/^\/+/,"")}},{}],11:[function(a,b,c){"use strict";var d=a("./../utils");b.exports=d.isStandardBrowserEnv()?function(){return{write:function(b,c,e,f,g,h){var i=[];i.push(b+"="+encodeURIComponent(c)),d.isNumber(e)&&i.push("expires="+new Date(e).toGMTString()),d.isString(f)&&i.push("path="+f),d.isString(g)&&i.push("domain="+g),h===!0&&i.push("secure"),document.cookie=i.join("; ")},read:function(b){var c=document.cookie.match(new RegExp("(^|;\\s*)("+b+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove:function(b){this.write(b,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},{"./../utils":18}],12:[function(a,b,c){"use strict";b.exports=function(b){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(b)}},{}],13:[function(a,b,c){"use strict";var d=a("./../utils");b.exports=d.isStandardBrowserEnv()?function(){function f(a){var d=a;return b&&(c.setAttribute("href",d),d=c.href),c.setAttribute("href",d),{href:c.href,protocol:c.protocol?c.protocol.replace(/:$/,""):"",host:c.host,search:c.search?c.search.replace(/^\?/,""):"",hash:c.hash?c.hash.replace(/^#/,""):"",hostname:c.hostname,port:c.port,pathname:"/"===c.pathname.charAt(0)?c.pathname:"/"+c.pathname}}var e,b=/(msie|trident)/i.test(navigator.userAgent),c=document.createElement("a");return e=f(window.location.href),function(b){var c=d.isString(b)?f(b):b;return c.protocol===e.protocol&&c.host===e.host}}():function(){return function(){return!0}}()},{"./../utils":18}],14:[function(a,b,c){"use strict";var d=a("./../utils");b.exports=function(b){var e,f,g,c={};return b?(d.forEach(b.split("\n"),function(b){g=b.indexOf(":"),e=d.trim(b.substr(0,g)).toLowerCase(),f=d.trim(b.substr(g+1)),e&&(c[e]=c[e]?c[e]+", "+f:f)}),c):c}},{"./../utils":18}],15:[function(a,b,c){"use strict";b.exports=function(b,c,d){var e=d.config.validateStatus;d.status&&e&&!e(d.status)?c(d):b(d)}},{}],16:[function(a,b,c){"use strict";b.exports=function(b){return function(c){return b.apply(null,c)}}},{}],17:[function(a,b,c){"use strict";var d=a("./../utils");b.exports=function(b,c,e){return d.forEach(e,function(d){b=d(b,c)}),b}},{"./../utils":18}],18:[function(a,b,c){"use strict";function e(a){return"[object Array]"===d.call(a)}function f(a){return"[object ArrayBuffer]"===d.call(a)}function g(a){return"undefined"!=typeof FormData&&a instanceof FormData}function h(a){var b;return b="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer&&a.buffer instanceof ArrayBuffer}function i(a){return"string"==typeof a}function j(a){return"number"==typeof a}function k(a){return"undefined"==typeof a}function l(a){return null!==a&&"object"==typeof a}function m(a){return"[object Date]"===d.call(a)}function n(a){return"[object File]"===d.call(a)}function o(a){return"[object Blob]"===d.call(a)}function p(a){return"[object Function]"===d.call(a)}function q(a){return l(a)&&p(a.pipe)}function r(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")}function s(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function t(a,b){if(null!==a&&"undefined"!=typeof a)if("object"==typeof a||e(a)||(a=[a]),e(a))for(var c=0,d=a.length;c<d;c++)b.call(null,a[c],c,a);else for(var f in a)a.hasOwnProperty(f)&&b.call(null,a[f],f,a)}function u(){function b(b,c){"object"==typeof a[c]&&"object"==typeof b?a[c]=u(a[c],b):a[c]=b}for(var a={},c=0,d=arguments.length;c<d;c++)t(arguments[c],b);return a}var d=Object.prototype.toString;b.exports={isArray:e,isArrayBuffer:f,isFormData:g,isArrayBufferView:h,isString:i,isNumber:j,isObject:l,isUndefined:k,isDate:m,isFile:n,isBlob:o,isFunction:p,isStream:q,isStandardBrowserEnv:s,forEach:t,merge:u,trim:r}},{}],19:[function(a,b,c){(function(c,d){(function(){"use strict";function e(a){return"function"==typeof a||"object"==typeof a&&null!==a}function f(a){return"function"==typeof a}function n(a){l=a}function o(a){m=a}function u(){return function(){c.nextTick(A)}}function v(){return function(){k(A)}}function w(){var a=0,b=new r(A),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function x(){var a=new MessageChannel;return a.port1.onmessage=A,function(){a.port2.postMessage(0)}}function y(){return function(){setTimeout(A,1)}}function A(){for(var a=0;a<j;a+=2){var b=z[a],c=z[a+1];b(c),z[a]=void 0,z[a+1]=void 0}j=0}function B(){try{var b=a,c=b("vertx");return k=c.runOnLoop||c.runOnContext,v()}catch(a){return y()}}function D(a,b){var c=this,d=c._state;if(d===J&&!a||d===K&&!b)return this;var e=new this.constructor(H),f=c._result;if(d){var g=arguments[d-1];m(function(){aa(d,e,g,f)})}else X(c,e,a,b);return e}function F(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(H);return T(c,a),c}function H(){}function M(){return new TypeError("You cannot resolve a promise with itself")}function N(){return new TypeError("A promises callback cannot return that same promise.")}function O(a){try{return a.then}catch(a){return L.error=a,L}}function P(a,b,c,d){try{a.call(b,c,d)}catch(a){return a}}function Q(a,b,c){m(function(a){var d=!1,e=P(c,b,function(c){d||(d=!0,b!==c?T(a,c):V(a,c))},function(b){d||(d=!0,W(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,W(a,e))},a)}function R(a,b){b._state===J?V(a,b._result):b._state===K?W(a,b._result):X(b,void 0,function(b){T(a,b)},function(b){W(a,b)})}function S(a,b,c){b.constructor===a.constructor&&c===E&&constructor.resolve===G?R(a,b):c===L?W(a,L.error):void 0===c?V(a,b):f(c)?Q(a,b,c):V(a,b)}function T(a,b){a===b?W(a,M()):e(b)?S(a,b,O(b)):V(a,b)}function U(a){a._onerror&&a._onerror(a._result),Y(a)}function V(a,b){a._state===I&&(a._result=b,a._state=J,0!==a._subscribers.length&&m(Y,a))}function W(a,b){a._state===I&&(a._state=K,a._result=b,m(U,a))}function X(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+J]=c,e[f+K]=d,0===f&&a._state&&m(Y,a)}function Y(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?aa(c,d,e,f):e(f);a._subscribers.length=0}}function Z(){this.error=null}function _(a,b){try{return a(b)}catch(a){return $.error=a,$}}function aa(a,b,c,d){var g,h,i,j,e=f(c);if(e){if(g=_(c,d),g===$?(j=!0,h=g.error,g=null):i=!0,b===g)return void W(b,N())}else g=d,i=!0;b._state!==I||(e&&i?T(b,g):j?W(b,h):a===J?V(b,g):a===K&&W(b,g))}function ba(a,b){try{b(function(c){T(a,c)},function(c){W(a,c)})}catch(b){W(a,b)}}function ca(a){return new na(this,a).promise}function ea(a){function e(a){T(c,a)}function f(a){W(c,a)}var b=this,c=new b(H);if(!i(a))return W(c,new TypeError("You must pass an array to race.")),c;for(var d=a.length,g=0;c._state===I&&g<d;g++)X(b.resolve(a[g]),void 0,e,f);return c}function ga(a){var b=this,c=new b(H);return W(c,a),c}function ja(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function ka(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ma(a){this._id=ia++,this._state=void 0,this._result=void 0,this._subscribers=[],H!==a&&("function"!=typeof a&&ja(),this instanceof ma?ba(this,a):ka())}function oa(a,b){this._instanceConstructor=a,this.promise=new a(H),Array.isArray(b)?(this._input=b,this.length=b.length,this._remaining=b.length,this._result=new Array(this.length),0===this.length?V(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&V(this.promise,this._result))):W(this.promise,this._validationError())}function pa(){var a;if("undefined"!=typeof d)a=d;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(a){throw new Error("polyfill failed because global object is unavailable in this environment")}var b=a.Promise;b&&"[object Promise]"===Object.prototype.toString.call(b.resolve())&&!b.cast||(a.Promise=la)}var h;h=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var k,l,C,i=h,j=0,m=function(b,c){z[j]=b,z[j+1]=c,j+=2,2===j&&(l?l(A):C())},p="undefined"!=typeof window?window:void 0,q=p||{},r=q.MutationObserver||q.WebKitMutationObserver,s="undefined"!=typeof c&&"[object process]"==={}.toString.call(c),t="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,z=new Array(1e3);C=s?u():r?w():t?x():void 0===p&&"function"==typeof a?B():y();var E=D,G=F,I=void 0,J=1,K=2,L=new Z,$=new Z,da=ca,fa=ea,ha=ga,ia=0,la=ma;ma.all=da,ma.race=fa,ma.resolve=G,ma.reject=ha,ma._setScheduler=n,ma._setAsap=o,ma._asap=m,ma.prototype={constructor:ma,then:E,catch:function(a){return this.then(null,a)}};var na=oa;oa.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},oa.prototype._enumerate=function(){for(var a=this.length,b=this._input,c=0;this._state===I&&c<a;c++)this._eachEntry(b[c],c)},oa.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===G){var e=O(a);if(e===E&&a._state!==I)this._settledAt(a._state,b,a._result);else if("function"!=typeof e)this._remaining--,this._result[b]=a;else if(c===la){var f=new c(H);S(f,a,e),this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){b(a)}),b)}else this._willSettleAt(d(a),b)},oa.prototype._settledAt=function(a,b,c){var d=this.promise;d._state===I&&(this._remaining--,a===K?W(d,c):this._result[b]=c),0===this._remaining&&V(d,this._result)},oa.prototype._willSettleAt=function(a,b){var c=this;X(a,void 0,function(a){c._settledAt(J,b,a)},function(a){c._settledAt(K,b,a)})};var qa=pa,ra={Promise:la,polyfill:qa};"function"==typeof define&&define.amd?define(function(){return ra}):"undefined"!=typeof b&&b.exports?b.exports=ra:"undefined"!=typeof this&&(this.ES6Promise=ra),qa()}).call(this)}).call(this,a("1YiZ5S"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"1YiZ5S":20}],20:[function(a,b,c){function e(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(b){c.push(b),window.postMessage("process-tick","*")}}return function(b){setTimeout(b,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=e,d.addListener=e,d.once=e,d.off=e,d.removeListener=e,d.removeAllListeners=e,d.emit=e,d.binding=function(a){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(a){throw new Error("process.chdir is not supported")}},{}],21:[function(a,b,c){(function(c){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("axios"),g=a("es6-promise"),h=g.Promise,i=a("./Models"),j=a("./Inputs"),k=a("./Concepts"),l=a("./constants"),m=l.API,n=m.TOKEN_PATH,o=function(){function a(b,c,d){e(this,a),this._validate(b,c,d),this._init(b,c,d)}return d(a,[{key:"getToken",value:function(){return this._config.token()}},{key:"setToken",value:function(b){var c=b;return"string"==typeof b&&(c={access_token:b,expires_in:176400}),!(!c.access_token||!c.expires_in)&&(this._config._token=c,!0)}},{key:"_validate",value:function(b,c,d){if(void 0===b||void 0===c)throw new Error("Client ID and client secret is required")}},{key:"_init",value:function(b,d){var e=this,f=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this._config={apiEndpoint:f.apiEndpoint||c&&c.env&&c.env.API_ENDPOINT||"https://api.clarifai.com",clientId:b,clientSecret:d,_token:null,token:function(){return new h(function(a,b){var c=(new Date).getTime();null!==e._config._token&&e._config._token.expireTime>c?a(e._config._token):e._getToken(a,b)})}},this.models=new i(this._config),this.inputs=new j(this._config),this.concepts=new k(this._config)}},{key:"_getToken",value:function(b,c){var d=this;this._requestToken().then(function(a){if(200===a.status){var e=a.data,f=(new Date).getTime();e.expireTime=f+1e3*e.expires_in,d.setToken(e),b(e)}else c(a)},c)}},{key:"_requestToken",value:function(){var b=""+this._config.apiEndpoint+n,c=this._config.clientId,d=this._config.clientSecret;return f({url:b,method:"POST",auth:{username:c,password:d}})}}]),a}();b.exports=o}).call(this,a("1YiZ5S"))},{"./Concepts":23,"./Inputs":25,"./Models":27,"./constants":28,"1YiZ5S":20,axios:1,"es6-promise":19}],22:[function(a,b,c){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c){e(this,a),this.id=c.id,this.name=c.name,this.createdAt=c.created_at||c.createdAt,this.updatedAt=c.updated_at||c.updatedAt,this.appId=c.app_id||c.appId,this.value=null,this._config=b,this._rawData=c}return d(a,[{key:"toObject",value:function(){return this._rawData}}]),a}();b.exports=f},{}],23:[function(a,b,c){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("axios"),g=a("./Concept"),h=a("./constants"),i=h.API,j=h.replaceVars,k=i.CONCEPTS_PATH,l=i.CONCEPT_PATH,m=i.CONCEPT_SEARCH_PATH,n=a("./utils"),o=n.wrapToken,p=n.formatConcept,q=a("./helpers"),r=q.isSuccess,s=q.checkType,t=function(){function a(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];e(this,a),this._config=b,this.rawData=d,d.forEach(function(a,b){c[b]=new g(c._config,a)}),this.length=d.length}return d(a,[{key:"list",value:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?{page:1,perPage:20}:arguments[0],e=""+this._config.apiEndpoint+k;return o(this._config,function(b){return new Promise(function(g,h){f.get(e,{headers:b,params:{page:d.page,per_page:d.perPage}}).then(function(b){r(b)?g(new a(c._config,b.data.concepts)):h(b)},h)})})}},{key:"get",value:function(b){var c=this,d=""+this._config.apiEndpoint+j(l,[b]);return o(this._config,function(a){return new Promise(function(b,e){f.get(d,{headers:a}).then(function(a){r(a)?b(new g(c._config,a.data.concept)):e(a)},e)})})}},{key:"create",value:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];s(/(Object|String)/,d)&&(d=[d]);var e={concepts:d.map(p)},g=""+this._config.apiEndpoint+k;return o(this._config,function(b){return new Promise(function(d,h){f.post(g,e,{headers:b}).then(function(b){r(b)?d(new a(c._config,b.data.concepts)):h(b)},h)})})}},{key:"search",value:function(c){var d=this,e=""+this._config.apiEndpoint+m;return o(this._config,function(b){var g={concept_query:{name:c}};return new Promise(function(c,h){f.post(e,g,{headers:b}).then(function(b){r(b)?c(new a(d._config,b.data.concepts)):h(b)},h)})})}},{key:"toObjects",value:function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return Array.prototype.map.call(this,function(a,b){var d=void 0;return c.length>0?(d={},c.forEach(function(b){d[b]=a[b]})):d=a.toObject(),d})}}]),a}();b.exports=t},{"./Concept":22,"./constants":28,"./helpers":30,"./utils":31,axios:1}],24:[function(a,b,c){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("axios"),g=a("./constants"),h=g.API,i=g.replaceVars,j=h.INPUT_PATCH_PATH,k=function(){function a(b,c){e(this,a),this.id=c.id,this.createdAt=c.created_at||c.createdAt,this.imageUrl=c.data.image.url,this.score=c.score,this._config=b,this._rawData=c}return d(a,[{key:"toObject",value:function(){return this._rawData}},{key:"mergeConcepts",value:function(b){return this._update("merge_concepts",b)}},{key:"deleteConcepts",value:function(b){return this._update("delete_concepts",b)}},{key:"_update",value:function(c){var d=""+this._config.apiEndpoint+i(j,[this.id]),e={action:action,concepts:c};return wrapToken(this._config,function(b){return new Promise(function(c,g){return f.patch(d,e,{headers:b}).then(function(b){isSuccess(b)?c(new a(b.data.input)):g(b)},g)})})}}]),a}();b.exports=k},{"./constants":28,axios:1}],25:[function(a,b,c){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("axios"),g=a("./Input"),h=a("./constants"),i=h.API,j=h.replaceVars,k=i.INPUT_PATH,l=i.INPUTS_PATH,m=i.INPUTS_STATUS_PATH,n=i.SEARCH_PATH,o=a("./utils"),p=o.wrapToken,q=o.formatInput,r=o.formatImagesSearch,s=o.formatConceptsSearch,t=a("./helpers"),u=t.isSuccess,v=t.checkType,w=128,x=function(){function a(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];e(this,a),this._config=b,this.rawData=d,d.forEach(function(a,b){a.input&&a.score&&(a.input.score=a.score,a=a.input),c[b]=new g(c._config,a)}),this.length=d.length}return d(a,[{key:"list",value:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?{page:1,perPage:20}:arguments[0],e=""+this._config.apiEndpoint+l;return p(this._config,function(b){return new Promise(function(g,h){f.get(e,{headers:b,params:{page:d.page,per_page:d.perPage}}).then(function(b){u(b)?g(new a(c._config,b.data.inputs)):h(b)},h)})})}},{key:"create",value:function(c){var d=this;v(/(String|Object)/,c)&&(c=[c]);var e=""+this._config.apiEndpoint+l;if(c.length>w)throw new Error("Number of inputs exceeded maximum of "+w);return p(this._config,function(b){var g={inputs:c.map(q)};return new Promise(function(c,h){f.post(e,g,{headers:b}).then(function(b){u(b)?c(new a(d._config,b.data.inputs)):h(b)},h)})})}},{key:"get",value:function(b){var c=this,d=""+this._config.apiEndpoint+j(k,[b]);return p(this._config,function(a){return new Promise(function(b,e){f.get(d,{headers:a}).then(function(a){u(a)?b(new g(c._config,a.data.input)):e(a)},e)})})}},{key:"delete",value:function(){var b=this,c=arguments.length<=0||void 0===arguments[0]?null:arguments[0],d=void 0;return null===c?!function(){var a=""+b._config.apiEndpoint+j(k,[c]);d=p(b._config,function(b){return f.delete(a,{headers:b})})}():Array.isArray(c)?d=this._update("delete_inputs",c):!function(){var a=""+b._config.apiEndpoint+l;d=p(b._config,function(b){return f.delete(a,{headers:b})})}(),d}},{key:"mergeConcepts",value:function(b){return this._update("merge_concepts",b)}},{key:"deleteConcepts",value:function(b){return this._update("delete_concepts",b)}},{key:"_update",value:function(c,d){var e=this,g=""+this._config.apiEndpoint+l;if(v(/Object/,d)&&(d=[d]),d.length>w)throw new Error("Number of inputs exceeded maximum of "+w);var h={action:c,inputs:d.map(function(a){return q(a,!1)})};return p(this._config,function(b){return new Promise(function(c,d){f.patch(g,h,{headers:b}).then(function(b){u(b)?c(new a(e._config,b.data.inputs)):d(b)},d)})})}},{key:"search",value:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=arguments.length<=1||void 0===arguments[1]?{page:1,perPage:20}:arguments[1],g=""+this._config.apiEndpoint+n,h={query:{ands:[]},pagination:{page:e.page,per_page:e.perPage}};return Array.isArray(d)||(d=[d]),d.length>0&&(h.query.ands=d.map(function(a){return a.name?s(a):r(a)})),p(this._config,function(b){return new Promise(function(d,e){f.post(g,h,{headers:b}).then(function(b){u(b)?d(new a(c._config,b.data.hits)):e(b)},e)})})}},{key:"getStatus",value:function(){var b=""+this._config.apiEndpoint+m;return p(this._config,function(a){return new Promise(function(c,d){f.get(b,{headers:a}).then(function(a){u(a)?c(a.data):d(a)},d)})})}}]),a}();b.exports=x},{"./Input":24,"./constants":28,"./helpers":30,"./utils":31,axios:1}],26:[function(a,b,c){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("axios"),g=a("./Concepts"),h=a("./helpers"),i=h.isSuccess,j=h.checkType,k=a("./constants"),l=k.API,m=k.replaceVars,n=a("./utils"),o=n.wrapToken,p=n.formatImagePredict,q=l.MODEL_VERSIONS_PATH,r=l.MODEL_VERSION_PATH,s=l.MODEL_PATCH_PATH,t=l.PREDICT_PATH,u=l.VERSION_PREDICT_PATH,v=l.MODEL_INPUTS_PATH,w=l.MODEL_OUTPUT_PATH,x=l.MODEL_VERSION_INPUTS_PATH,y="21103",z="21101",A=2e3,B=function(){function a(b,c){e(this,a),this._config=b,this.data=c,this.name=c.name,this.id=c.id,this.createdAt=c.created_at||c.createdAt,this.appId=c.app_id||c.appId,this.outputInfo=c.output_info||c.outputInfo,j(/(String)/,c.version)?(this.modelVersion={},this.versionId=c.version):(this.modelVersion=c.model_version||c.modelVersion||c.version,this.versionId=(this.modelVersion||{}).id),this._rawData=c}return d(a,[{key:"toObject",value:function(){return this._rawData}},{key:"mergeConcepts",value:function(){var b=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return this._update("merge_concepts",b)}},{key:"deleteConcepts",value:function(){var b=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return this._update("delete_concepts",b)}},{key:"_update",value:function(b,c){Array.isArray(c)||(c=[c]);var d=""+this._config.apiEndpoint+m(s,[this.id]),e=c[0]instanceof g?c.toObject("id"):c,h={concepts:e,action:b};return o(this._config,function(a){var b={headers:a,params:h};return f.patch(d,b)})}},{key:"train",value:function(c){var d=this,e=""+this._config.apiEndpoint+m(q,[this.id]);return o(this._config,function(b){return new Promise(function(g,h){f.post(e,null,{headers:b}).then(function(b){i(b)?c?d._pollTrain.bind(d)(g,h):g(new a(d._config,b.data.model)):h(b)},h)})})}},{key:"_pollTrain",value:function(b,c){var d=this;clearTimeout(this.pollTimeout),this.getOutputInfo().then(function(a){var e=a.modelVersion.status.code.toString();e===y||e===z?d.pollTimeout=setTimeout(function(){return d._pollTrain(b,c)},A):b(a)},c).catch(c)}},{key:"predict",value:function(b){j(/(Object|String)/,b)&&(b=[b]);var c=""+this._config.apiEndpoint+(this.versionId?m(u,[this.id,this.versionId]):m(t,[this.id]));return o(this._config,function(a){var d={inputs:b.map(p)};return f.post(c,d,{headers:a})})}},{key:"getVersion",value:function(b){var c=""+this._config.apiEndpoint+m(r,[this.id,b]);return o(this._config,function(a){return new Promise(function(b,d){f.get(c,{headers:a}).then(function(a){b(a.data)},d)})})}},{key:"getVersions",value:function(){var b=arguments.length<=0||void 0===arguments[0]?{page:1,perPage:20}:arguments[0],c=""+this._config.apiEndpoint+m(q,[this.id]);return o(this._config,function(a){var d={headers:a,params:{per_page:b.perPage,page:b.page}};return f.get(c,d)})}},{key:"getOutputInfo",value:function(){var c=this,d=""+this._config.apiEndpoint+m(w,[this.id]);return o(this._config,function(b){return new Promise(function(e,g){f.get(d,{headers:b}).then(function(b){e(new a(c._config,b.data.model))},g)})})}},{key:"getInputs",value:function(){var b=arguments.length<=0||void 0===arguments[0]?{page:1,perPage:20}:arguments[0],c=""+this._config.apiEndpoint+(this.versionId?m(x,[this.id,this.versionId]):m(v,[this.id]));return o(this._config,function(a){return f.get(c,{params:{per_page:b.perPage,page:b.page},headers:a})})}}]),a}();b.exports=B},{"./Concepts":23,
"./constants":28,"./helpers":30,"./utils":31,axios:1}],27:[function(a,b,c){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("axios"),g=a("es6-promise"),h=g.Promise,i=a("./Model"),j=a("./Concepts"),k=a("./constants"),l=k.API,m=k.replaceVars,n=a("./helpers"),o=n.isSuccess,p=n.checkType,q=a("./utils"),r=q.wrapToken,s=l.MODELS_PATH,t=l.MODEL_PATH,u=l.MODEL_SEARCH_PATH,v=l.MODEL_VERSION_PATH,w=function(){function a(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];e(this,a),this._config=b,this.rawData=d,d.forEach(function(a,b){c[b]=new i(c._config,a)}),this.length=d.length}return d(a,[{key:"initModel",value:function(b){var c=this,d={},e=void 0;return p(/String/,b)?d.id=b:d=b,e=d.id?function(b,e){b(new i(c._config,d))}:function(b,e){c.search(d.name,d.type).then(function(a){b(d.version?a.filter(function(a){return a.modelVersion.id===d.version}):a[0])},e).catch(e)},new h(e)}},{key:"predict",value:function(b,c){var d=this;return new h(function(a,e){d.initModel(b).then(function(b){b.predict(c).then(a,e).catch(e)},e)})}},{key:"train",value:function(b){var c=this,d=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return new h(function(a,e){c.initModel(b).then(function(b){b.train(d).then(a,e).catch(e)},e)})}},{key:"list",value:function(){var c=this,d=arguments.length<=0||void 0===arguments[0]?{page:1,perPage:20}:arguments[0],e=""+this._config.apiEndpoint+s;return r(this._config,function(b){return new h(function(g,h){f.get(e,{params:{per_page:d.perPage,page:d.page},headers:b}).then(function(b){o(b)?g(new a(c._config,b.models)):h(b)},h)})})}},{key:"create",value:function(b){var c=this,d=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],g=d instanceof j?d.toObject("id"):d.map(function(a){var b=a;return p(/String/,a)&&(b={id:a}),b}),k=""+this._config.apiEndpoint+s,l={model:{name:b,output_info:{data:{concepts:g},output_config:{concepts_mutually_exclusive:!!e.conceptsMutuallyExclusive,closed_environment:!!e.closedEnvironment}}}};return r(this._config,function(a){return new h(function(b,d){f({method:"post",url:k,data:l,headers:a}).then(function(a){o(a)?b(new i(c._config,a.data.model)):d(a)},d)})})}},{key:"get",value:function(b){var c=this,d=""+this._config.apiEndpoint+m(t,[b]);return r(this._config,function(a){return new h(function(b,e){f.get(d,{headers:a}).then(function(a){o(a)?b(new i(c._config,a.data.model)):e(a)},e)})})}},{key:"delete",value:function(b,c){var d=void 0;return d=b?""+this._config.apiEndpoint+m(t,[b]):c?""+this._config.apiEndpoint+m(v,[b,c]):""+this._config.apiEndpoint+s,r(this._config,function(a){return f.delete(d,{headers:a})})}},{key:"search",value:function(c){var d=this,e=arguments.length<=1||void 0===arguments[1]?null:arguments[1],g=""+this._config.apiEndpoint+u;return r(this._config,function(b){var i={model_query:{name:c,type:e}};return new h(function(c,e){f.post(g,i,{headers:b}).then(function(b){o(b)?c(new a(d._config,b.data.models)):e(b)},e)})})}}]),a}();b.exports=w},{"./Concepts":23,"./Model":26,"./constants":28,"./helpers":30,"./utils":31,axios:1,"es6-promise":19}],28:[function(a,b,c){"use strict";b.exports={API:{TOKEN_PATH:"/v2/token",MODELS_PATH:"/v2/models",MODEL_PATH:"/v2/models/$0",MODEL_VERSIONS_PATH:"/v2/models/$0/versions",MODEL_VERSION_PATH:"/v2/models/$0/versions/$1",MODEL_PATCH_PATH:"/v2/models/$0/output_info/data/concepts",MODEL_OUTPUT_PATH:"/v2/models/$0/output_info",MODEL_SEARCH_PATH:"/v2/models/searches",PREDICT_PATH:"/v2/models/$0/outputs",VERSION_PREDICT_PATH:"/v2/models/$0/versions/$1/outputs",CONCEPTS_PATH:"/v2/concepts",CONCEPT_PATH:"/v2/concepts/$0",CONCEPT_SEARCH_PATH:"/v2/concepts/searches",MODEL_INPUTS_PATH:"/v2/models/$0/inputs",MODEL_VERSION_INPUTS_PATH:"/v2/models/$0/versions/$1/inputs",INPUTS_PATH:"/v2/inputs",INPUT_PATH:"/v2/inputs/$0",INPUTS_STATUS_PATH:"/v2/inputs/status",INPUT_PATCH_PATH:"/v2/inputs/$0/data/concepts",SEARCH_PATH:"/v2/searches"},replaceVars:function(b){var c=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],d=b;return c.forEach(function(a,b){d=d.replace(new RegExp("\\$"+b,"g"),a)}),d},URL_REGEX:/^(https?:\/\/)?((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]{2,}|((\d{1,3}\.){3}\d{1,3}))(\:\d+)?(\/[-a-z\d%_.~+]*)*(\?[;&a-z\d%_.~+=-]*)?(\#[-a-z\d_]*)?$/i}},{}],29:[function(a,b,c){(function(c){"use strict";var d=a("./App");b.exports=c.Clarifai={App:d,GENERAL_MODEL:"aaa03c23b3724a16a56b629203edc62c",FOOD_MODEL:"bd367be194cf45149e75f01d59f77ba7",TRAVEL_MODEL:"eee28c313d69466f836ab83287a54ed9",NSFW_MODEL:"e9576d86d2004ed1a38ba0cf39ecb4b1",WEDDINGS_MODEL:"c386b7a870114f4a87477c0824499348",COLOR_MODEL:"eeed0b6733a644cea07cf4c60f87ebb7",CLUSTER_MODEL:"cccbe437d6e54e2bb911c6aa292fb072",BLUR:"ddd9d34872ab32be9f0e3b2b98a87be2"}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./App":21}],30:[function(a,b,c){"use strict";var d=[200,201];b.exports={isSuccess:function(b){return d.indexOf(b.status)>-1},deleteEmpty:function(b){var c=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&(c!==!0||""!==b[a]&&0!==b[a].length&&0!==Object.keys(b[a]).length)||delete b[a]})},checkType:function(b,c){return b instanceof RegExp==!1&&(b=new RegExp(b)),b.test(Object.prototype.toString.call(c))}}},{}],31:[function(a,b,c){"use strict";var d=a("es6-promise"),e=d.Promise,f=a("./constants"),g=f.URL_REGEX,h=a("./helpers"),i=h.checkType;b.exports={wrapToken:function(b,c){return new e(function(a,d){b.token().then(function(b){var e={Authorization:"Bearer "+b.access_token};c(e).then(a,d)},d)})},formatInput:function(b,c){var d=i(/String/,b)?{url:b}:b,e={id:d.id||null,data:{}};return d.concepts&&(e.data.concepts=d.concepts),c!==!1&&(e.data.image={url:d.url,base64:d.base64,crop:d.crop},b.allowDuplicateUrl&&(e.data.image.allow_duplicate_url=!0)),e},formatImagePredict:function(b){var c=b;return i(/String/,b)&&(c=g.test(c)===!0?{url:b}:{base64:b}),{data:{image:c}}},formatImagesSearch:function(b){var c=void 0;c="string"==typeof b?{url:b}:{url:b.url||null,base64:b.base64||null,crop:b.crop||null};var d={input:{data:{image:c}}};return"input"===b.type?d:{output:d}},formatConcept:function(b){var c=b;return i(/String/,b)&&(c={id:b,name:b}),c},formatConceptsSearch:function(b){i(/String/,b)&&(b={name:b});var c={},d="input"===b.type?"input":"output";return c[d]={data:{concepts:[{name:b.name,value:void 0===b.value||!!b.value}]}},c}}},{"./constants":28,"./helpers":30,"es6-promise":19}]},{},[29]);